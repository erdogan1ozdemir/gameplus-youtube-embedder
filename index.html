<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game+ YouTube Embed & HTML Converter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f2027 100%);
            min-height: 100vh;
            padding: 15px;
            color: #ffffff;
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px 0;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 255, 136, 0.2);
        }

        .header h1 {
            color: #000;
            font-size: clamp(1.8rem, 4vw, 3.2rem);
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: none;
        }

        .header p {
            color: rgba(0,0,0,0.8);
            font-size: clamp(1rem, 2vw, 1.3rem);
            font-weight: 500;
        }

        .converter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(100%, 600px), 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .converter-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .converter-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00ff88, #00cc6a, #00ff88);
            border-radius: 20px 20px 0 0;
        }

        .converter-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 255, 136, 0.6);
            box-shadow: 0 30px 60px rgba(0, 255, 136, 0.2);
        }

        .card-title {
            font-size: 1.5rem;
            color: #00ff88;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 600;
        }

        .input-group {
            margin-bottom: 25px;
            position: relative;
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            color: #ffffff;
            font-weight: 500;
            font-size: 16px;
        }

        .input-wrapper {
            position: relative;
        }

        .paste-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
            color: #000;
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 10;
        }

        .paste-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.4);
        }

        .paste-btn:active {
            transform: scale(0.95);
        }

        .input-field {
            width: 100%;
            padding: 18px 100px 18px 20px;
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
            font-family: inherit;
            resize: vertical;
            min-height: 60px;
        }

        .input-field:focus {
            outline: none;
            border-color: #00ff88;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 0 3px rgba(0, 255, 136, 0.15);
        }

        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .textarea-field {
            min-height: 200px;
            max-height: 500px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
        }

        .convert-btn {
            width: 100%;
            padding: 18px 24px;
            background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
            color: #000;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .convert-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(0, 255, 136, 0.4);
            background: linear-gradient(135deg, #00ff88 0%, #00e676 100%);
        }

        .convert-btn:active {
            transform: translateY(0);
        }

        .convert-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .message {
            padding: 18px 20px;
            border-radius: 12px;
            margin: 20px 0;
            display: none;
            font-weight: 500;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .error {
            background: rgba(255, 82, 82, 0.15);
            color: #ff5252;
            border: 2px solid rgba(255, 82, 82, 0.3);
            border-left: 6px solid #ff5252;
        }

        .success {
            background: rgba(0, 255, 136, 0.15);
            color: #00ff88;
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-left: 6px solid #00ff88;
        }

        .result-section {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            display: none;
            margin-top: 30px;
            position: relative;
            overflow: hidden;
        }

        .result-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00ff88, #00cc6a, #00ff88);
            border-radius: 20px 20px 0 0;
        }

        .result-title {
            font-size: 1.4rem;
            color: #00ff88;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 600;
        }

        .code-container {
            position: relative;
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid rgba(0, 255, 136, 0.2);
            border-radius: 15px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .code-header {
            background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
            color: #000;
            font-weight: 600;
        }

        .copy-btn {
            background: rgba(0, 0, 0, 0.8);
            color: #00ff88;
            border: 1px solid rgba(0, 255, 136, 0.5);
            border-radius: 8px;
            padding: 8px 16px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .copy-btn:hover {
            background: rgba(0, 255, 136, 0.1);
            border-color: #00ff88;
        }

        .code-content {
            padding: 25px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.8;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-x: auto;
            color: #e0e0e0;
            max-height: 400px;
            overflow-y: auto;
        }

        .preview-container {
            border: 2px solid rgba(0, 255, 136, 0.2);
            border-radius: 15px;
            padding: 25px;
            background: rgba(0, 0, 0, 0.3);
            min-height: 120px;
        }

        .stats {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .stat-item {
            background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
            color: #000;
            padding: 10px 18px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
        }

        .loading {
            display: none;
            text-align: center;
            padding: 30px;
            color: #00ff88;
        }

        .spinner {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(0, 255, 136, 0.3);
            border-top: 3px solid #00ff88;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 12px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .info-box {
            background: rgba(0, 255, 136, 0.1);
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-top: 25px;
        }

        .info-title {
            color: #00ff88;
            font-weight: 600;
            margin-bottom: 12px;
            font-size: 16px;
        }

        .info-list {
            color: #e0e0e0;
            line-height: 1.6;
        }

        .info-list ol {
            padding-left: 20px;
        }

        .info-list li {
            margin-bottom: 5px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-container {
                padding: 10px 0;
            }
            
            .converter-card {
                padding: 25px 20px;
            }
            
            .converter-grid {
                gap: 20px;
            }
            
            .stats {
                gap: 10px;
            }
            
            .stat-item {
                font-size: 12px;
                padding: 8px 14px;
            }
            
            .textarea-field {
                min-height: 150px;
            }
            
            .paste-btn {
                padding: 6px 10px;
                font-size: 11px;
                top: 10px;
                right: 10px;
            }
            
            .input-field {
                padding-right: 80px;
            }
        }

        @media (max-width: 480px) {
            .code-content {
                font-size: 11px;
                padding: 20px;
            }
            
            .converter-card {
                padding: 20px 15px;
            }
            
            .header {
                padding: 25px 20px;
            }
            
            .paste-btn {
                padding: 5px 8px;
                font-size: 10px;
                top: 8px;
                right: 8px;
            }
            
            .input-field {
                padding-right: 70px;
            }
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #00cc6a, #00ff88);
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <h1>ðŸŽ® Game+ YouTube Embed & HTML Converter</h1>
            <p>YouTube videolarÄ±nÄ± responsive embed'e Ã§evir veya HTML'deki embed'leri optimize et</p>
        </div>

        <div class="converter-grid">
            <!-- URL to Embed Converter -->
            <div class="converter-card">
                <h2 class="card-title">
                    ðŸ”— YouTube URL â†’ Responsive Embed
                </h2>
                
                <div class="input-group">
                    <label for="youtube-url">YouTube Video URL'sini girin:</label>
                    <div class="input-wrapper">
                        <input type="url" 
                               id="youtube-url" 
                               class="input-field"
                               placeholder="https://www.youtube.com/watch?v=QdBZY2fkU-0">
                        <button class="paste-btn" onclick="pasteToInput('youtube-url')">ðŸ“‹ YapÄ±ÅŸtÄ±r</button>
                    </div>
                </div>
                
                <button class="convert-btn" onclick="convertUrl()">
                    ðŸš€ Responsive Embed OluÅŸtur
                </button>
                
                <div class="message error" id="url-error"></div>
                <div class="message success" id="url-success"></div>
            </div>

            <!-- HTML Fixer -->
            <div class="converter-card">
                <h2 class="card-title">
                    ðŸ”§ HTML YouTube Embed Optimizer
                </h2>
                
                <div class="input-group">
                    <label for="html-input">HTML kodunuzu yapÄ±ÅŸtÄ±rÄ±n (bÃ¼yÃ¼k dosyalar desteklenir):</label>
                    <div class="input-wrapper">
                        <textarea id="html-input"
                                  class="input-field textarea-field"
                                  placeholder="<iframe src='https://www.youtube.com/embed/...' width='560' height='315'></iframe>

Buraya tÃ¼m HTML iÃ§eriÄŸinizi yapÄ±ÅŸtÄ±rabilirsiniz.
Tool otomatik olarak YouTube embed'leri bulup responsive hale getirecek."></textarea>
                        <button class="paste-btn" onclick="pasteToInput('html-input')" style="top: 20px;">ðŸ“‹ YapÄ±ÅŸtÄ±r</button>
                    </div>
                </div>
                
                <button class="convert-btn" onclick="fixHtmlEmbeds()">
                    âš¡ YouTube Embed'leri Optimize Et
                </button>
                
                <div class="message error" id="html-error"></div>
                <div class="message success" id="html-success"></div>
            </div>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            Ä°ÅŸleniyor...
        </div>

        <div class="result-section" id="result-section">
            <div class="result-title" id="result-title">
                ðŸ“‹ SonuÃ§
            </div>
            
            <div class="stats" id="stats"></div>
            
            <div class="code-container">
                <div class="code-header">
                    <span>ðŸŽ¯ Optimize EdilmiÅŸ HTML Kodu</span>
                    <button class="copy-btn" onclick="copyResult()">ðŸ“‹ TÃ¼mÃ¼nÃ¼ Kopyala</button>
                </div>
                <div class="code-content" id="result-code"></div>
            </div>
            
            <div class="result-title">
                ðŸ’¡ Test Etmek Ä°Ã§in
            </div>
            <div class="info-box">
                <div class="info-title">Kodu nasÄ±l test ederim?</div>
                <div class="info-list">
                    <ol>
                        <li>YukarÄ±daki kodu kopyala</li>
                        <li>Bir HTML dosyasÄ± oluÅŸtur (Ã¶rn: test.html)</li>
                        <li>Kodu dosyaya yapÄ±ÅŸtÄ±r</li>
                        <li>TarayÄ±cÄ±da aÃ§ ve responsive Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± kontrol et</li>
                        <li>FarklÄ± ekran boyutlarÄ±nda test et</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentResult = '';

        function extractVideoId(url) {
            // Daha kapsamlÄ± regex patterns
            const patterns = [
                /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,
                /youtube\.com\/embed\/([^"&?\/\s]{11})/,
                /youtube\.com\/v\/([^"&?\/\s]{11})/,
                /youtube\.com\/watch\?v=([^"&?\/\s]{11})/,
                /youtu\.be\/([^"&?\/\s]{11})/
            ];
            
            for (let pattern of patterns) {
                const match = url.match(pattern);
                if (match && match[1]) return match[1];
            }
            return null;
        }

        function createResponsiveEmbed(videoId) {
            return `<div style="width: 100%; aspect-ratio: 16/9; background: #000; overflow: hidden; border-radius: 12px; margin: 1em 0;">
  <iframe title="YouTube video player" src="https://www.youtube.com/embed/${videoId}" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen" style="width: 100%; height: 100%; object-fit: contain; display: block; background: #000;"></iframe>
</div>`;
        }

        function showMessage(elementId, message, isError = false) {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            element.textContent = message;
            element.className = `message ${isError ? 'error' : 'success'}`;
            element.style.display = 'block';
            
            // DiÄŸer mesajlarÄ± gizle
            const otherMessages = document.querySelectorAll('.message');
            otherMessages.forEach(msg => {
                if (msg.id !== elementId) {
                    msg.style.display = 'none';
                }
            });
        }

        function hideAllMessages() {
            document.querySelectorAll('.message').forEach(msg => {
                msg.style.display = 'none';
            });
        }

        function showLoading(show = true) {
            const loadingEl = document.getElementById('loading');
            if (loadingEl) {
                loadingEl.style.display = show ? 'block' : 'none';
            }
        }

        function showResult(title, code, stats = []) {
            currentResult = code;
            
            const titleEl = document.getElementById('result-title');
            const codeEl = document.getElementById('result-code');
            const statsEl = document.getElementById('stats');
            const resultEl = document.getElementById('result-section');
            
            if (titleEl) titleEl.innerHTML = title;
            if (codeEl) codeEl.textContent = code;
            
            // Ä°statistikleri gÃ¶ster
            if (statsEl) {
                statsEl.innerHTML = stats.map(stat => 
                    `<div class="stat-item">${stat}</div>`
                ).join('');
            }
            
            if (resultEl) {
                resultEl.style.display = 'block';
                resultEl.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }
        }

        function convertUrl() {
            const urlInput = document.getElementById('youtube-url');
            if (!urlInput) return;
            
            const url = urlInput.value.trim();
            
            hideAllMessages();
            
            if (!url) {
                showMessage('url-error', 'âš ï¸ LÃ¼tfen bir YouTube URL\'si girin!', true);
                return;
            }
            
            showLoading(true);
            
            setTimeout(() => {
                try {
                    const videoId = extractVideoId(url);
                    
                    if (!videoId) {
                        showLoading(false);
                        showMessage('url-error', 'âŒ GeÃ§ersiz YouTube URL\'si! Desteklenen formatlar: youtube.com/watch?v=, youtu.be/, youtube.com/embed/', true);
                        return;
                    }
                    
                    const embedCode = createResponsiveEmbed(videoId);
                    
                    showLoading(false);
                    showMessage('url-success', `âœ… Video ID: ${videoId} iÃ§in responsive embed oluÅŸturuldu!`);
                    showResult(
                        'ðŸŽ¬ Responsive YouTube Embed',
                        embedCode,
                        [`Video ID: ${videoId}`, 'Tam Responsive', '16:9 Aspect Ratio', 'Mobil Uyumlu']
                    );
                } catch (error) {
                    showLoading(false);
                    showMessage('url-error', 'âŒ URL iÅŸlenirken hata oluÅŸtu: ' + error.message, true);
                }
            }, 800);
        }

        function fixHtmlEmbeds() {
            const htmlInput = document.getElementById('html-input');
            if (!htmlInput) return;
            
            const html = htmlInput.value.trim();
            
            hideAllMessages();
            
            if (!html) {
                showMessage('html-error', 'âš ï¸ LÃ¼tfen HTML kodunuzu girin!', true);
                return;
            }
            
            showLoading(true);
            
            setTimeout(() => {
                try {
                    let fixedHtml = html;
                    let embedsFound = 0;
                    let embedsFixed = 0;
                    
                    // Daha kapsamlÄ± iframe regex'i
                    const iframeRegex = /<iframe[^>]*src=["']([^"']*(?:youtube\.com\/embed|youtu\.be)[^"']*)["'][^>]*>.*?<\/iframe>/gis;
                    
                    // AyrÄ±ca self-closing iframe'leri de yakala
                    const selfClosingIframeRegex = /<iframe[^>]*src=["']([^"']*(?:youtube\.com\/embed|youtu\.be)[^"']*)["'][^>]*\/>/gis;
                    
                    // Her iki pattern iÃ§in arama yap
                    const matches1 = [...html.matchAll(iframeRegex)];
                    const matches2 = [...html.matchAll(selfClosingIframeRegex)];
                    const allMatches = [...matches1, ...matches2];
                    
                    embedsFound = allMatches.length;
                    
                    if (embedsFound === 0) {
                        showLoading(false);
                        showMessage('html-error', 'âŒ HTML iÃ§inde YouTube embed bulunamadÄ±! iframe src="...youtube.com/embed..." formatÄ±nda olduÄŸundan emin olun.', true);
                        return;
                    }
                    
                    // Her match iÃ§in iÅŸlem yap
                    allMatches.forEach(match => {
                        const fullIframe = match[0];
                        const src = match[1];
                        const videoId = extractVideoId(src);
                        
                        if (videoId) {
                            const responsiveEmbed = createResponsiveEmbed(videoId);
                            fixedHtml = fixedHtml.replace(fullIframe, responsiveEmbed);
                            embedsFixed++;
                        }
                    });
                    
                    if (embedsFixed === 0) {
                        showLoading(false);
                        showMessage('html-error', 'âŒ GeÃ§erli YouTube video ID\'si bulunamadÄ±!', true);
                        return;
                    }
                    
                    showLoading(false);
                    showMessage('html-success', `âœ… ${embedsFixed}/${embedsFound} YouTube embed baÅŸarÄ±yla optimize edildi!`);
                    showResult(
                        'ðŸ”§ Optimize EdilmiÅŸ HTML',
                        fixedHtml,
                        [
                            `${embedsFound} Embed Bulundu`,
                            `${embedsFixed} Embed Optimize Edildi`,
                            'Tam Responsive',
                            'Mobil Uyumlu',
                            `${Math.round(fixedHtml.length / 1024)} KB`
                        ]
                    );
                    
                } catch (error) {
                    showLoading(false);
                    showMessage('html-error', 'âŒ HTML iÅŸlenirken hata oluÅŸtu: ' + error.message, true);
                }
            }, 1000);
        }

        function copyResult() {
            if (!currentResult) return;
            
            const copyBtn = document.querySelector('.copy-btn');
            if (!copyBtn) return;
            
            // GÃ¼venli kopyalama fonksiyonu
            function safeCopy(text) {
                // Modern Clipboard API'yi dene
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    return navigator.clipboard.writeText(text);
                }
                
                // Fallback metodu
                return new Promise((resolve, reject) => {
                    try {
                        const textArea = document.createElement('textarea');
                        textArea.value = text;
                        textArea.style.position = 'fixed';
                        textArea.style.left = '-999999px';
                        textArea.style.top = '-999999px';
                        document.body.appendChild(textArea);
                        textArea.focus();
                        textArea.select();
                        
                        const successful = document.execCommand('copy');
                        document.body.removeChild(textArea);
                        
                        if (successful) {
                            resolve();
                        } else {
                            reject(new Error('Copy command failed'));
                        }
                    } catch (err) {
                        reject(err);
                    }
                });
            }
            
            safeCopy(currentResult)
                .then(() => {
                    const originalText = copyBtn.textContent;
                    copyBtn.textContent = 'âœ… KopyalandÄ±!';
                    copyBtn.style.background = 'rgba(0, 255, 136, 0.2)';
                    copyBtn.style.color = '#00ff88';
                    
                    setTimeout(() => {
                        copyBtn.textContent = originalText;
                        copyBtn.style.background = 'rgba(0, 0, 0, 0.8)';
                        copyBtn.style.color = '#00ff88';
                    }, 2500);
                })
                .catch((err) => {
                    console.error('Kopyalama hatasÄ±:', err);
                    const originalText = copyBtn.textContent;
                    copyBtn.textContent = 'âŒ Hata!';
                    copyBtn.style.background = 'rgba(255, 82, 82, 0.2)';
                    copyBtn.style.color = '#ff5252';
                    
                    setTimeout(() => {
                        copyBtn.textContent = originalText;
                        copyBtn.style.background = 'rgba(0, 0, 0, 0.8)';
                        copyBtn.style.color = '#00ff88';
                    }, 2500);
                });
        }

        function pasteToInput(inputId) {
            const input = document.getElementById(inputId);
            if (!input) return;
            
            const pasteBtn = input.parentElement.querySelector('.paste-btn');
            
            // GÃ¼venli yapÄ±ÅŸtÄ±rma fonksiyonu
            function safePaste() {
                // Modern Clipboard API'yi dene
                if (navigator.clipboard && navigator.clipboard.readText) {
                    return navigator.clipboard.readText();
                }
                
                // Fallback - kullanÄ±cÄ±dan manuel yapÄ±ÅŸtÄ±rma iste
                return new Promise((resolve, reject) => {
                    const userText = prompt('Clipboard API desteklenmiyor. LÃ¼tfen iÃ§eriÄŸi buraya yapÄ±ÅŸtÄ±rÄ±n:');
                    if (userText !== null) {
                        resolve(userText);
                    } else {
                        reject(new Error('User cancelled'));
                    }
                });
            }
            
            safePaste()
                .then((text) => {
                    if (text) {
                        input.value = text;
                        input.focus();
                        hideAllMessages();
                        
                        // BaÅŸarÄ± feedback'i
                        if (pasteBtn) {
                            const originalText = pasteBtn.textContent;
                            pasteBtn.textContent = 'âœ… YapÄ±ÅŸtÄ±rÄ±ldÄ±!';
                            pasteBtn.style.background = 'linear-gradient(135deg, #4caf50 0%, #45a049 100%)';
                            
                            setTimeout(() => {
                                pasteBtn.textContent = originalText;
                                pasteBtn.style.background = 'linear-gradient(135deg, #00ff88 0%, #00cc6a 100%)';
                            }, 2000);
                        }
                    }
                })
                .catch((err) => {
                    console.error('YapÄ±ÅŸtÄ±rma hatasÄ±:', err);
                    if (pasteBtn && err.message !== 'User cancelled') {
                        const originalText = pasteBtn.textContent;
                        pasteBtn.textContent = 'âŒ Hata!';
                        pasteBtn.style.background = 'linear-gradient(135deg, #ff5252 0%, #f44336 100%)';
                        
                        setTimeout(() => {
                            pasteBtn.textContent = originalText;
                            pasteBtn.style.background = 'linear-gradient(135deg, #00ff88 0%, #00cc6a 100%)';
                        }, 2000);
                    }
                });
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Enter tuÅŸu desteÄŸi
            const urlInput = document.getElementById('youtube-url');
            if (urlInput) {
                urlInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        convertUrl();
                    }
                });
                
                urlInput.addEventListener('input', hideAllMessages);
            }

            const htmlInput = document.getElementById('html-input');
            if (htmlInput) {
                htmlInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
                        e.preventDefault();
                        fixHtmlEmbeds();
                    }
                });
                
                htmlInput.addEventListener('input', hideAllMessages);
            }
        });
    </script>
</body>
</html>
